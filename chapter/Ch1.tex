\section{简明数理逻辑}

数理逻辑是研究推理规则的数学分支。
而本章仅仅介绍数理逻辑的一些主要概念、基本原理，不打算进一步深究。
在本章，我们常用的自然语言（中文 or English）中的表达逻辑关系、推理证明的各个要素
将会被逐步地符号化，即通过构造各种符号语言来代替自然语言，
最终得到完全由符号构成的形式语言。为达到这个邪恶的目的，
在本章第一节我们首先将关联词语（逻辑连接词）符号化，比如：
不但而且、虽然但是、因为所以、如果那么、只要就、只有才……等等……

\subsection{命题与连接词}
\textbf{命题}数理逻辑中的一个基本概念。
能够判断真假，非真即假的陈述句称为命题。

\begin{example}下列语句之中，(1)-(3)都是命题，而(4)-(6)不是命题：

（1）加拿大位于北美洲；

（2）$1+1=3$；

（3）公元2333年元旦的北京是晴天；

（4）你脑子进屎了吗？

（5）让我们荡起双桨；

（6）这句话是假话。\label{examples of propositions}
\end{example}

（1）（2）（3）都是可以判断真假的陈述句，
从而是命题，虽然（2）陈述的事实是荒谬的。
而对于（3），我们目前没有能力判断它到底是真还是假，
但它的真假性是客观存在的，这样的语句也是命题。

（4）（5）都不是陈述句，从而不是命题。
而（6）虽然是陈述句，但它的真假不确定，
假设它为真则推出它为假，由它为假又能推出它为真。
这种既不能为真也不能为假的陈述句，称为\textbf{悖论}。悖论不是命题。\vsp

我们用小写拉丁字母，如$a,b,c,p,q,r$等，来表示命题。
如果一个命题为真，则称它为\textbf{真命题}，也称它的\textbf{真值}为1；若它为假，
则称此命题为\textbf{假命题}，也称它的真值为0.\vsp

对于已经给定的一些命题，我们可以对这些命题进行一些操作，
来构造新的命题。接下来介绍常见的几种命题连接词。

\begin{definition}[否定连接词]
对于命题$p$,称命题$\neg p$为$p$的\textbf{否定式}，
符号“$\neg$”称为否定连接词，读作“\textbf{非}”。
规定当$p$为真时，$\neg p$为假；$p$为假时$\neg p$为真。
\end{definition}
在自然语言中，命题“$\neg p$”可以表达为“$p$不成立”。
例如命题$p$表示“加拿大位于北美洲”，则$\neg p$表示“加拿大不位于北美洲”。

\begin{definition}[合取连接词]
对于两个命题$p,q$，称命题“$p\wedge q$”为$p$与$q$的\textbf{合取式}，
符号“$\wedge$”称为合取连接词，读作“\textbf{且}”。
规定当$p,q$全都是为真命题时，$p\wedge q$为真命题；
当$p,q$之中至少有一个是假命题时，$p\wedge q$为假命题。
\end{definition}
对于两个命题$p,q$，$p\wedge q$用自然语言可以描述为
“$p$与$q$同时成立”、“$p$与$q$全都正确”、“$p$并且$q$”、
“虽然$p$但是$q$”、“不仅$p$而且$q$”、“both $p$ and $q$ are true”等等。

特别注意自然语言中的“但是”和“并且”，
其实表达的都是$\wedge$的意思，指两者同时成立。

\begin{definition}[析取连接词]
对于两个命题$p,q$，称命题“$p\vee q$”为$p$与$q$的\textbf{析取式}，
符号“$\vee$”称为析取连接词，读作“\textbf{或}”。
规定当$p,q$全都是为假命题时，$p\vee q$为假命题；
当$p,q$之中至少有一个是真命题时，$p\vee q$为真命题。
\end{definition}
对于两个命题$p,q$，“$p\vee q$”在自然语言中常称为“$p$或者$q$”.
然而特别注意，“或者”这个词在汉语中有歧义，
在有些语境下表示“两者当中有且只有一个成立”，
例如“你滚蛋，或者我滚蛋”。但是在数理逻辑中，
“或者”指的是两者至少有一个成立就可以（两者都成立那更好）。

\begin{definition}[蕴含连接词]
对于两个命题$p,q$，称命题“$p\rightarrow q$”为$p$与$q$的\textbf{蕴含式}，
符号“$\rightarrow$”称为蕴含连接词，读作“\textbf{蕴含}”。
规定当$p$为真命题并且$q$为假命题时，$p\rightarrow q$为假命题；
而其余3种情况时$p\rightarrow q$为真命题。
\end{definition}

对于两个命题$p,q$，“$p\rightarrow q$”在自然语言和今后我们要学习的数学当中，有
“如果$p$那么$q$”，“$p$仅当$q$”，“$p$推出$q$”，
“因为$p$所以$q$”，“只要$p$就有$q$”，“只有$q$才会有$p$”，“除非$q$否则$p$”、
“$p$是$q$的\textbf{充分条件}”，“$q$是$p$的\textbf{必要条件}”等
看似迥异的表述方式。

上述诸多表达方式在数理逻辑中其实表达的都是“蕴含”的含义，这需要慢慢体会。

蕴含连接词也许是在本节所讲的所有连接词中最令初学者费解的一个。
为帮助读者理解，我们举一些例子来说明：

\begin{example}研究下列命题。
虽然它们表达的含义荒诞至极，但在数理逻辑的意义下它们都是真命题：

（1）因为所有人都吃过屎，所以地球围绕太阳公转。

（2）如果1+1=3，那么猪会飞。

（3）只有沙漠能下暴雨，大海才会亲吻鲨鱼。

（4）只要2是奇数，公元2333年元旦的北京就是晴天。
\end{example}
\begin{proof}
我们依次来分析这些命题：

(1)我们用字母$p$来表示“所有人都吃过屎”，用$q$来表示“地球围绕太阳公转”。
则命题（1）用符号表达为“$p\rightarrow q$”.由于$p$是假命题，$q$是真命题，
所以根据蕴含连接词"$\rightarrow$"的定义可知$p\rightarrow q$为真命题。

(2)该命题为“$(1+1=3)\rightarrow\text{猪会飞}$”。
由于“1+1=3”是假命题，“猪会飞”也是假命题，从而命题（2）是真命题。

(3)该命题为“大海亲吻鲨鱼$\rightarrow$沙漠下暴雨”，
蕴含连接词的前后两端都是假命题，从而这个命题是真命题。

(4)该命题为“2是奇数$\rightarrow$公元2333年元旦的北京是晴天”。
我们知道“2是奇数”是假命题。虽然我们并没有能力判断公元2333年那件事的真假，
但是从蕴含连接词的定义可以看出，
对于一个由蕴含连接词连接的复合命题$p\rightarrow q$，只要$p$是假命题，
那么无论$q$是真是假，$p\rightarrow q$一定是真命题。从而命题（4）是真命题。
\end{proof}

要特别注意，在日常生活的自然语言中，
“如果$p$那么$q$”中的$p,q$之间通常有内在的联系，
因果联系、依赖关系等等。
而数理逻辑研究的是抽象的推理，
“命题”本身是一个剥离于现实世界的抽象的概念，
我们谈论命题“$p\rightarrow q$”时，$p$与$q$之间可以毫无任何联系。
命题“$p\rightarrow q$”的真假性，只与$p,q$两者的真假性有关，
而与它们所表达的实际意义之间有何内在联系无关。
这对于其它几个逻辑连接词，也都是如此。

我们再看一些关于蕴含连接词的例子：

\begin{example}
甲、乙两个人比赛，甲对此信心满满，说：“如果我输了，我给你100块钱。”
试将命题“如果甲输，那么甲给乙100块钱”符号化，并讨论该命题何时为假命题。
\end{example}
\begin{proof}[Solution]
此命题为“甲输$\rightarrow$甲给乙100块钱”。
只有当甲输了但是甲没给乙100块钱时，
甲所讲的这个命题才是假的。特别注意当甲赢了时候（即“甲输”为假命题），
无论甲有没有给钱，那句话都是真命题。
\end{proof}

这个实际例子也许能够帮助初学者理解为很么要规定当前提$p$为假命题时
$p\rightarrow q$ 一定是真命题。事实上，再以后的学习中，我们会接触到更多
抽象的结构（比如拓扑空间、概率空间等），
它们的严格定义会令初学者费解。之所以要如此定义，
是因为这样定义出来的东西具有我们所希望的性质——这正是近代数学的特色之一。
我们在下一节会介绍“所希望的性质”具体是什么（见下一节的定理\ref{prop-dengzhi-gongshi-3}）。

\begin{example}假设你是人（这是确凿无疑的），试判断下列命题的真假：

（1）如果你是人，那么你不是人。

（2）如果你不是人，那么你是人。

（3）你是人，并且你不是人。

（4）除非你是人，否则你不是人。
\end{example}

\begin{proof}[Solution]
我们用字母$p$表示命题“你是人”，则$p$为真命题（希望读者承认这个事实）。
则上述4个命题用符号来表达，分别为
$$p\rightarrow (\neg p)\,\,\,,\,\,\,
(\neg p)\rightarrow p\,\,\,,\,\,\,
p\wedge(\neg p)\,\,\,,\,\,\,
(\neg p)\rightarrow p$$
由相应连接词的运算规则，不难得出(1)(3)为假命题，(2)(4)为真命题。
\end{proof}

\begin{definition}[等价连接词]
对于两个命题$p,q$，称命题“$p\leftrightarrow q$”为$p$与$q$的\textbf{等价式}，
符号“$\leftrightarrow$”称为等价连接词，读作“\textbf{等价于}”。
规定当$p,q$真值相同时$p\leftrightarrow q$为真命题；
真值相反时$p\leftrightarrow q$为假命题。
\end{definition}
在自然语言以及数学中，常用“$p$\textbf{当且仅当}$q$”、“$p$是$q$的\textbf{充要条件}”、
“$p$ \textbf{if and only if} $q$”来表达命题“$p\leftrightarrow q$”.\vsp

以上是常见的五种逻辑连接词。
我们将由连接词组成的复合命题的真假性总结为如下\textbf{真值表}：

$$\begin{tabular}{|c||c|c|c|c|c|}   % |:竖线， l、c、r ：= 居左，居中，居右
\hline
$p\,\,q$ & $\neg p$ & $p\wedge q$ & $p\vee q$ & $p\rightarrow q$ & $p\leftrightarrow q$\\
\hline
$0\,\,0$ & 1 & 0 &0&1&1 \\

$0\,\,1$ & 1 & 0 &1&1&0 \\

$1\,\,0$ & 0 & 0 &1&0&0 \\

$1\,\,1$ & 0 & 1 &1&1&1 \\
\hline
\end{tabular}$$

例如，从表中第一行可以看出，当$p,q$都是假命题（真值为0）时，
$\neg p$、$p\wedge q$、$p\vee q$、$p\rightarrow q$、$p\leftrightarrow q$的真值
分别为1、0、0、1、1.\vsp

由简单的命题，以及各种逻辑连接词，可以构造出复杂的命题。
例如对于命题$p,q,r,s$，我们可以去谈论诸如
$$((\neg p)\vee r)\wedge(s\leftrightarrow q)$$
这样的复杂命题。这种命题的真假性完全由$p,q,r,s$之中每一个命题的真假性决定。\vs

在本节最后，我们再简单提一下逻辑连接词运算的\textbf{优先级}。
与实数加减乘除运算规则“先乘除后加减，有括号先算括号里面的”类似，
我们也约定各种逻辑连接词的优先级。规定优先顺序为
$$\neg\,>\,\wedge\,>\,\vee\,>\,\rightarrow\,>\,\leftrightarrow$$

例如，命题$\neg p\vee q$确切地说应该是$(\neg p)\vee q$，而不是$\neg(p\vee q)$.
再比如，命题$p\vee q\leftrightarrow r\wedge s$所表达的含义是
$(p\vee q)\leftrightarrow (r\wedge s)$，而不是$((p\vee q)\leftrightarrow r)\wedge s$.

在以后，我们尽量避免依靠这个优先级约定规则，而是尽可能多加括号减少歧义。


\subsection{命题逻辑等值演算（待补）}
在初等数学中我们用字母（比如$x$）表示实数。
在一些语境下，$x$是一个确定的数，
而在有些语境下字母$x$代表的数不确定——
这正是\textbf{常量}与\textbf{变量}的区别。
比如“$x^2+1$”，在某些语境下，$x$是一个确定的数，
那$x^2+1$就是一个确定的数；而在另一些语境下，
$x^2+1$是一个公式，我们给$x$赋以特定的值，就会得到$x^2+1$的一个值。
特别注意一个字母到底代表常量还是变量，
需要依靠事先约定以及语境来判断。\vs

而命题逻辑与之完全类似。我们用字母来表示一个命题。
命题也有\textbf{命题常量}与\textbf{命题变量}之分。
前者为某个确定的命题，而后者是一个抽象的符号，
可以被赋以确定的命题。

\begin{definition}[命题公式]
由命题常量、命题变量、逻辑连接词、括号$()$按照某些逻辑关系
所排列而成的符号串称为命题公式。具体地，“某些逻辑关系”指的是：

（1）对于单个命题常量或者命题变量$p$，
由符号$p$自身构成的符号串是命题公式。

（2）如果符号串$A,B$都是命题公式，那么符号串
$$(\neg A)$$
$$(A\vee B)$$
$$(A\wedge B)$$
$$(A\rightarrow B)$$
$$(A\leftrightarrow B)$$
都是命题公式。
\end{definition}

注意“命题公式”这个概念是\textbf{归纳定义}
（或者叫\textbf{递归定义}）的。
通俗地说，命题公式是由有限多个命题常量、有限多个命题变量，
经过命题连接词的有限多步连接，所构成的符号串。

例如，我们用字母$p$来表示命题“地球绕太阳公转”，那么符号串
$$((\neg p)\vee q)\leftrightarrow(r\rightarrow p)$$
是一个命题公式。其中$q,r$是命题变量，而$p$是命题常量。
这个命题公式含有2个命题变量。特别注意，命题公式可以不含有命题变量。

再注意一点，命题连接词除了我们提到的5种（否定、合取、析取、蕴含、等价）之外，
还有无数多种；只不过这5种比较“常用”，自然语言中存在表达其含义的词汇。
而其它一些连接词，它表达的逻辑关系是“无法言说的”（无法用正常的“人话”轻易讲清楚），
自然语言在其面前苍白无力。我们在本章习题中会提到一些其它的连接词。
事实上，在习题中我们还将证明“$\neg,\vee$”这两个连接词在某种意义下已经“足够用”了。

对于用这5种连接词之外的连接词来连接的字符串，
我们也认为是命题公式。这在本章习题中会略加讨论。

\begin{definition}[命题公式的赋值]
设字符串$A=A(p_1,...,p_n)$是含有$n$个命题变量$p_1,p_2,...,p_n$的
一个命题公式。对每个$p_1,...,p_n$各指定一个真值，
称为命题公式$A$的一个\textbf{赋值}（或者称为“\textbf{诠释}”）。
\end{definition}

容易知道，对于含有$n$个命题变量的命题公式$A$，
$A$总共有$2^n$种不同的赋值。（这是因为对于每个命题变量，
要么赋以它真值0，要么赋以它真值1，一共2种选择；而共有$n$个变量，从而总共
$2\times 2\times...\times2=2^n$种赋值）

回顾上一节出现的\textbf{真值表}。对于命题公式，
我们可以穷尽它所有可能的赋值，并把每一种赋值及其结果一一列出。

\begin{example}我们考虑关于命题变量$p,q,r$的下述三个命题公式
$$A:=p\rightarrow (q\rightarrow r)$$
$$B:=(p\wedge q)\rightarrow r$$
$$C:=(p\rightarrow q)\rightarrow r$$
试讨论它们所有可能的赋值，并总结为真值表。
\label{proposition formula}
\end{example}
\begin{proof}[Solution]
逐一讨论所有可能的$2^3=8$种赋值，总结为下表：

$$\begin{tabular}{|c||c|c|c|}   % |:竖线， l、c、r ：= 居左，居中，居右
\hline
$p\,\,q\,\,r$ & $p\rightarrow (q\rightarrow r)$
& $(p\wedge q)\rightarrow r$ & $(p\rightarrow q)\rightarrow r$ \\
\hline
$0\,\,0\,\,0$ & 1 & 1 & 0  \\
$0\,\,0\,\,1$ & 1 & 1 & 1  \\
$0\,\,1\,\,0$ & 1 & 1 & 0  \\
$0\,\,1\,\,1$ & 1 & 1 & 1  \\
$1\,\,0\,\,0$ & 1 & 1 & 1  \\
$1\,\,0\,\,1$ & 1 & 1 & 1  \\
$1\,\,1\,\,0$ & 0 & 0 & 0  \\
$1\,\,1\,\,1$ & 1 & 1 & 1  \\
\hline
\end{tabular}$$
按照相应逻辑连接词的运算规则，读者可自行验证上述结果。
\end{proof}

注意观察上述真值表的（从双竖线右边起）第1、2列，发现它们完全相同。
也就是说，对于公式
$p\rightarrow (q\rightarrow r)$与$(p\wedge q)\rightarrow r$，
无论对变量$p,q,r$赋予哪些真值，所得到的命题的真值都相同。

与初等数学类比一下，这就好比含有变量$x,y$的两个表达式
$$2(x+2y)\,\,\,\,,\,\,\,\,2x+4y$$
无论对$x,y$赋予什么值，所得到的结果都相等。
（但实数有无限多个，我们无法一一列出上述式子所有可能的赋值，
总结成类似的真值表。
所以在这种意义下，命题逻辑比初等代数简单得多。）\vs

在初等数学中，我们并不是通过暴力验证对变量$x,y$的每一种可能的赋值，
来证明$2(x+2y)$与$2x+4y$是“相等”的（事实上暴力穷举是不现实的，毕竟实数有无限多个），
而是通过一些\textbf{运算律}；而命题逻辑的简单之处在于
我们可以暴力地验证所有可能的赋值来说明两个命题公式其实是“相等”的。
事实上暴力验证可以交给计算机来完成。

\begin{definition}[命题公式的分类]
对于含有$n$个$(n\geq0)$命题变量的命题公式$A=A(p_1,...,p_n)$，

（1）称$A$为\textbf{重言式}（或者\textbf{永真式}），
如果在$A$的任何赋值下，$A$的结果都为真；

（2）称$A$为\textbf{矛盾式}（或者\textbf{永假式}），
如果在$A$的任何赋值下，$A$的结果都为假；

（2）称$A$为\textbf{可满足式}，
如果存在$A$的某个赋值，使得$A$的结果为真；
\end{definition}

从定义容易看出，重言式一定是可满足式。

顺便提一下$n=0$这种\textbf{平凡}(trivial)的情形，即$A$为含有0个命题变量的命题公式的情形。
此时$A$无非就是一个命题常量。
$A$为重言式当且仅当$A$为真命题当且仅当$A$为可满足式；
$A$为矛盾式当且仅当$A$为假命题。\vs

判断一个命题公式是否为重言式、可满足式、矛盾式，
我们可以用真值表的方法。
即，穷尽所有可能的赋值。例如，在刚才的例子\ref{proposition formula}
之中出现的三个命题公式都是可满足式，都不是重言式——从它们的真值表中能轻易看出来。

\begin{definition}[命题公式的等值]
对于含有$n$个命题变量$p_1,...,p_n$的两个命题公式$A,B$，
称$A$与$B$\textbf{等值}，如果在所有可能的$2^n$个赋值之下，它们的真值都相同。
此时记作$A\Leftrightarrow B$.
\end{definition}
例如，例子\ref{proposition formula}之中的两个命题公式$A,B$是等值的，
这从真值表中可以看出来。
用符号语言表示为
$$[p\rightarrow (q\rightarrow r)]
\Leftrightarrow [(p\wedge q)\rightarrow r]$$
特别需要注意的是，符号“$\Leftrightarrow$”并不是逻辑连接词，
不要与$\leftrightarrow$混淆。不过它们两者之间有如下联系：

\begin{thm}对于含有$n$个命题变量$p_1,...,p_n$的命题公式$A,B$，则
$A\Leftrightarrow B$当且仅当$A\leftrightarrow B$是重言式。
\end{thm}
\begin{proof}
这根据“等值$\Leftrightarrow$”、“重言式”、“命题连接词$\leftrightarrow$”的定义，
直接得到。几乎是显然的。不过在此还是要详细写一下证明，给初学者。

一方面在$A\Leftrightarrow B$的条件下，我们将证明$A\leftrightarrow B$是重言式。
根据重言式的定义，我们只需要证明，对于变量$p_1,...,p_n$的任何赋值，得到的命题
$A(p_1,...,p_n)\leftrightarrow B(p_1,...,p_n)$是真命题。
而这是因为，由于$A\Leftrightarrow B$，从而
$A(p_1,...,p_n)$与$B(p_1,...,p_n)$的真值总是相同，因此由逻辑连接词$\leftrightarrow$
的运算规则知$A(p_1,...,p_n)\leftrightarrow B(p_1,...,p_n)$是真命题，
这对任何赋值都成立。从而$A\leftrightarrow B$是重言式。

另一方面，我们还要证明在$A\leftrightarrow B$是重言式的条件下，
有$A\Leftrightarrow B$.方法完全类似（刚才的证明过程处处可逆），读者自行完成。
\end{proof}

接下来将介绍一些常见的命题公式等值式。

\begin{thm}[基本的命题公式等值式I]\label{prop-dingzhi-gongshi-1}
设$A$为任意的命题公式，则下列成立：

（1）零律：$$A\vee1\Leftrightarrow1$$
$$A\wedge0\Leftrightarrow0$$

（2）同一律：$$A\wedge1\Leftrightarrow A$$
$$A\vee0\Leftrightarrow A$$

（3）幂等律：$$A\Leftrightarrow A\vee A$$
$$A\Leftrightarrow A\wedge A$$

（4）双重否定律：$$A\Leftrightarrow \neg(\neg A)$$

（5）排中律：$$A\vee\neg A\Leftrightarrow1$$

（6）矛盾律：$$A\wedge\neg A\Leftrightarrow0$$

\end{thm}
\begin{proof}
这些都是显然的，直接用真值表验证即可（考虑$A$的真值为$0,1$的两种情况即可）。
\end{proof}

特别注意，上述等值式中的$A$可以被替换为任何命题公式。
比如令$A$为含有3个命题变量的命题公式$(p\rightarrow q)\rightarrow r$，则
幂等律（3）变为
$$(p\rightarrow q)\rightarrow r
\Leftrightarrow [(p\rightarrow q)\rightarrow r]\vee [(p\rightarrow q)\rightarrow r]$$
$$(p\rightarrow q)\rightarrow r
\Leftrightarrow [(p\rightarrow q)\rightarrow r]\wedge [(p\rightarrow q)\rightarrow r]$$
这仍然是命题等值式。上述$p,q,r$也可以继续被替换为更复杂的命题公式。

\begin{thm}[基本的命题公式等值式II]\label{prop-dengzhi-gongshi-2}
对于任何命题公式$A,B,C$，则下列等值式成立：

（7）交换律：$$A\wedge B\Leftrightarrow B\wedge A$$
$$A\vee B\Leftrightarrow B\vee A$$

（8）结合律：$$(A\wedge B)\wedge C\Leftrightarrow A\wedge (B\wedge C)$$
$$(A\vee B)\vee C\Leftrightarrow A\vee (B\vee C)$$

（9）分配律：
$$(A\wedge B)\vee C\Leftrightarrow (A\vee C)\wedge (B\vee C)$$
$$(A\vee B)\wedge C\Leftrightarrow (A\wedge C)\vee (B\wedge C)$$

（10）吸收律：
$$A\vee (A\wedge B)\Leftrightarrow A$$
$$A\wedge (A\vee B)\Leftrightarrow A$$

（11）德摩根律：
$$\neg(A\vee B)\Leftrightarrow\neg A\wedge\neg B$$
$$\neg(A\wedge B)\Leftrightarrow\neg A\vee\neg B$$

\end{thm}

\begin{proof}
对命题公式$A,B,C$被赋值之后所得到的命题的真假进行讨论，
用真值表暴力验证即可。

我们先来看交换律（7）.列出真值表，见下表：
$$\begin{tabular}{|c||cc|cc|}   % |:竖线， l、c、r ：= 居左，居中，居右
\hline
$A\,\,B$ & $A\wedge B$ & $B\wedge A$ & $A\vee B$ & $B\vee A$\\
\hline
$0\,\,0$ & 0 & 0 & 0 & 0  \\
$0\,\,1$ & 0 & 0 & 1 & 1  \\
$1\,\,0$ & 0 & 0 & 1 & 1  \\
$1\,\,1$ & 1 & 1 & 1 & 1  \\
\hline
\end{tabular}$$
观察此真值表各列，容易发现相应的等值关系。

接下来看（8）结合律，我们暴力列出如下真值表：

$$\begin{tabular}{|c||cc|cc|}   % |:竖线， l、c、r ：= 居左，居中，居右
\hline
$A\,\,B\,\,C$ & $(A\wedge B)\wedge C$ & $A\wedge (B\wedge C)$
& $(A\vee B)\vee C$ & $A\vee (B\vee C)$\\
\hline
$0\,\,0\,\,0$ & 0 & 0 & 0 & 0  \\
$0\,\,0\,\,1$ & 0 & 0 & 1 & 1  \\
$0\,\,1\,\,0$ & 0 & 0 & 1 & 1  \\
$0\,\,1\,\,1$ & 0 & 0 & 1 & 1  \\
$1\,\,0\,\,0$ & 0 & 0 & 1 & 1  \\
$1\,\,0\,\,1$ & 0 & 0 & 1 & 1  \\
$1\,\,1\,\,0$ & 0 & 0 & 1 & 1  \\
$1\,\,1\,\,1$ & 1 & 1 & 1 & 1  \\
\hline
\end{tabular}$$
分配律、吸收律、德摩根律的证明完全类似，留给读者完成。
\end{proof}

关于等价、蕴含连接词，还有如下等值式：

\begin{thm}[基本的命题公式等值式III]\label{prop-dengzhi-gongshi-3}
设$A,B$为任意的命题公式，则成立下列命题公式等值式：

（12）蕴含律：
$$A\rightarrow B\Leftrightarrow\neg A\vee B$$

（13）等价律：
$$A\leftrightarrow B\Leftrightarrow (A\rightarrow B)\vee(B\rightarrow A)$$

（14）假言易位：
$$A\rightarrow B\Leftrightarrow\neg B\rightarrow\neg A$$

（15）等价否定：
$$A\leftrightarrow B\Leftrightarrow\neg A\leftrightarrow\neg B$$

（16）归谬论：
$$(A\rightarrow B)\wedge(A\rightarrow\neg B)\Leftrightarrow\neg A$$
\end{thm}
\begin{proof}
用真值表的方法暴力验证蕴含律和等价律，读者自行完成，在此从略。
假言易位、等价否定、归谬论也可以用真值表，但其实我们不必那么暴力，
因为这三者可以由之前所证明过的等值式推出来。

对于任意两个命题公式$A,B$，有
$$\begin{tabular}{cll}   % |:竖线， l、c、r ：= 居左，居中，居右
&$A\rightarrow B$&\\
$\Leftrightarrow$& $\neg A\vee B$ &\text{（蕴含律）}\\
$\Leftrightarrow$& $B\vee \neg A$ &\text{（交换律）}\\
$\Leftrightarrow$& $\neg(\neg B)\vee\neg A$ &\text{（双重否定律）}\\
$\Leftrightarrow$& $\neg B\rightarrow\neg A$ &\text{（蕴含律）}\\
\end{tabular}$$
从而假言易位（14）得证。

再注意到
$$\begin{tabular}{cll}   % |:竖线， l、c、r ：= 居左，居中，居右
&$A\leftrightarrow B$&\\
$\Leftrightarrow$& $(A\rightarrow B)\wedge(B\rightarrow A)$ &\text{（等价律）}\\
$\Leftrightarrow$& $(\neg B\rightarrow\neg A)\wedge(\neg A\rightarrow \neg B)$ &\text{（假言易位）}\\
$\Leftrightarrow$& $(\neg A\rightarrow \neg B)\wedge(\neg B\rightarrow\neg A)$ &\text{（交换律）}\\
$\Leftrightarrow$& $\neg A\leftrightarrow\neg B$ &\text{（等价律）}\\
\end{tabular}$$
从而等价否定（15）得证。

最后注意到
$$\begin{tabular}{cll}   % |:竖线， l、c、r ：= 居左，居中，居右
&$(A\rightarrow B)\wedge(A\rightarrow \neg B)$&\\
$\Leftrightarrow$&
$(\neg A\vee B)\wedge(\neg A\vee\neg B)$ &\text{（蕴含律）}\\
$\Leftrightarrow$&
$[\neg A\wedge(\neg A\vee\neg B)]\vee
[B\wedge(\neg A\vee\neg B)]$ &\text{（分配律）}\\
$\Leftrightarrow$&
$(\neg A)\vee
[B\wedge(\neg A\vee\neg B)]$ &\text{（吸收律）}\\
$\Leftrightarrow$&
$(\neg A)\vee
[(B\wedge\neg A)\vee(B\wedge\neg B)]$ &\text{（交换律，分配律）}\\
$\Leftrightarrow$&
$[(\neg A)\vee
(B\wedge\neg A)]\vee0$ &\text{（结合律，矛盾律）}\\
$\Leftrightarrow$&
$(\neg A)\vee
(\neg A\wedge B)$ &\text{（同一律，交换律）}\\
$\Leftrightarrow$&
$\neg A$ &\text{（吸收律）}\\
\end{tabular}$$
从而归谬论（16）得证。
\end{proof}

像这样来通过已知的等值式（运算律）
来得到新的等值式的方式被称为\textbf{等值演算}。

其实，在上述等值演算的过程中，我们“偷偷地”使用了以下重要规则：

\begin{thm}[置换规则]
设$\Phi(A)$是含有命题公式$A$的命题公式，$B$是另一个命题公式。
如果$A\Leftrightarrow B$，那么必有$\Phi(A)\Leftrightarrow\Phi(B)$.
\end{thm}
这个道理几乎是显然的，由等值“$\Leftrightarrow$”的定义容易得到。
我们在定理\ref{prop-dengzhi-gongshi-3}的（14）-（16）
的证明过程中已经使用了置换规则。此规则是等值演算的基础。
另外一个显然的事实也十分重要：

\begin{thm}[等值关系是等价关系]对于任意的命题公式$A,B,C$，下列成立

（1）（自反性）$A\Leftrightarrow A$.

（2）（对称性）如果$A\Leftrightarrow B$，那么$B\Leftrightarrow A$.

（3）（传递性）如果$A\Leftrightarrow B$并且$B\Leftrightarrow C$，
那么$A\Leftrightarrow C$.
\end{thm}

这个也容易证明，几乎是显然的。\vsp

接下来我们举一些等值演算的例子，来结束本节。

\begin{example}
我们重新来看例子\ref{proposition formula}之中出现的
关于$3$个命题变量$p,q,r$的命题公式。我们已经用真值表的方法知道了
$$p\rightarrow (q\rightarrow r)\Leftrightarrow
(p\wedge q)\rightarrow r$$
现在，用等值演算的方法再次得到此等值式。
\end{example}
\begin{proof}[Solution]
运用我们所介绍的基本的运算律，容易知道
$$\begin{tabular}{cll}
&$p\rightarrow (q\rightarrow r)$&\\
$\Leftrightarrow$& $p\rightarrow (\neg q\vee r)$ & \text{(蕴含律)}\\
$\Leftrightarrow$& $\neg p\vee (\neg q\vee r)$ & \text{(蕴含律)}\\
$\Leftrightarrow$& $(\neg p\vee\neg q)\vee r$ & \text{(结合律)}\\
$\Leftrightarrow$& $\neg(p\wedge q)\vee r$ & \text{(德摩根律)}\\
$\Leftrightarrow$& $(p\wedge q)\rightarrow r$ & \text{(蕴含律)}\\
\end{tabular}$$
从而得证，比暴力计算真值表要方便。
\end{proof}

建议初学者学习等值演算时，像本节一样，每一步演算都标注上所使用的运算律。
等到熟练时，就不必在每一步的右边添加括号备注了。

\begin{example}[又一个常用的关于等价的等值关系]
对于命题变量$p,q$，证明等值式
$$p\leftrightarrow q\Leftrightarrow
(p\wedge q)\vee(\neg p\wedge\neg q)$$\label{dengjialv-ii}
\end{example}
\begin{proof}
只需注意到
$$\begin{tabular}{cll}
&$p\leftrightarrow q$&\\
$\Leftrightarrow$&$(p\rightarrow q)\wedge(q\rightarrow p)$
&\text{（等价律）}\\
$\Leftrightarrow$&$(\neg p\vee q)\wedge(\neg q\vee p)$
&\text{（蕴含律）}\\
$\Leftrightarrow$&$(\neg p\wedge\neg q)\vee(\neg p\wedge p)
\vee(q\wedge\neg q)\vee(q\wedge p)$
&\text{（反复使用分配律）}\\
$\Leftrightarrow$&$(\neg p\wedge\neg q)\vee0
\vee0\vee(q\wedge p)$
&\text{（矛盾律）}\\
$\Leftrightarrow$&$(\neg p\wedge\neg q)\vee(q\wedge p)$
&\text{（同一律）}\\
$\Leftrightarrow$&$(p\wedge q)\vee(\neg p\wedge\neg q)$
&\text{（交换律）}\\
\end{tabular}$$
从而证毕。
\end{proof}

事实上，用自然语言去想，这个结果是显然的。
$p\leftrightarrow q$的意思是“$p$与$q$等价”；而
$(p\wedge q)\vee(\neg p\wedge\neg q)$翻译成自然语言为
“$p$与$q$同时成立或者同时不成立”。从而可知它们表达同一个含义。

\begin{example}考虑含有$p,q,r$三个命题变量的命题公式
$$(p\leftrightarrow(\neg q\vee r))\rightarrow
(\neg p\rightarrow q)$$
判断它是否为重言式。
\end{example}
\begin{proof}[Solution]我们介绍三种方法。

方法一：鉴于一共只含3个命题变量，我们完全可以用真值表法来判断，
讨论所有可能的$2^3=8$种赋值即可。容易知道它是重言式。\vs

方法二：等值演算法。其实这也是一种暴力的方法，用它总能做出来。
演算的原则是先利用蕴含律、等价律，把$\leftrightarrow,\rightarrow$
完全用$\wedge,\vee,\neg$表示出来，得到只含有$\wedge,\vee,\neg$
这三个连接词的命题公式；再之后反复使用交换律、结合律、分配律、吸收律、摩根律
（也就是定理\ref{prop-dengzhi-gongshi-2}“第II组等值式”之中的）；最后用“第I组”等值式。
本例的具体过程如下：
$$\begin{tabular}{cll}
&$(p\leftrightarrow(\neg q\vee r))\rightarrow
(\neg p\rightarrow q)$&\\

$\Leftrightarrow$&
$[(p\wedge(\neg q\vee r))\vee(\neg p\wedge\neg(\neg q\vee r))]\rightarrow
(\neg p\rightarrow q)$
&\text{（用例子\ref{dengjialv-ii}杀掉等价连接词）}\\

$\Leftrightarrow$&
$\neg[(p\wedge(\neg q\vee r))\vee(\neg p\wedge\neg(\neg q\vee r))]\vee
(p\vee q)$
&\text{（用蕴含律杀掉蕴含连接词）}\\

$\Leftrightarrow$&
$[(\neg p\vee(q\wedge\neg r))\wedge(p\vee\neg q\vee r))]\vee
(p\vee q)$
&\text{（反复使用德摩根律、双重否定律）}\\

$\Leftrightarrow$&
$[\neg p\vee(q\wedge\neg r)\vee(p\vee q)]
\wedge[p\vee(\neg q\vee r)\vee(p\vee q)]$
&\text{（分配律）}\\

$\Leftrightarrow$&
$[(\neg p\vee p)\vee(q\wedge\neg r)\vee q]
\wedge[(\neg q\vee q)\vee p\vee r\vee p]$
&\text{（交换律、结合律）}\\

$\Leftrightarrow$&
$[1\vee(q\wedge\neg r)\vee q]
\wedge[1\vee p\vee r\vee p]$
&\text{（排中律）}\\

$\Leftrightarrow$&
$1\wedge1$
&\text{（零律）}\\

$\Leftrightarrow$&$1$&\text{（连接词$\wedge$的定义）}\\
\end{tabular}$$
从而原命题公式与真命题$1$是等值的，说明原命题公式是重言式。
\end{proof}

\subsection{推理与证明（待补）}
\subsection{主体与谓词逻辑（待补）}
\subsection{量词与一阶逻辑（待补）}
\subsection{一阶逻辑等值演算与推理（待补）}
\subsection{数学归纳法（待补）}
\subsection{习题（待补）}